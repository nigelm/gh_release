name: Overall Release Process
on: workflow_dispatch
jobs:
  release:
    runs-on: ubuntu-latest
    concurrency: release
    uses: nigelm/gh_release/.github/workflows/_setup_poetry.yml@main

    steps:
      #----------------------------------------------
      # release
      #----------------------------------------------
      - name: Semantic Release
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          # source .venv/bin/activate
          git config user.name github-actions
          git config user.email github-actions@github.com
          poetry run semantic-release publish

# end
